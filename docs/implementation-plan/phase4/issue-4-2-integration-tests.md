# [Phase 4-2] 統合テストと調整

## 概要

統合テスト、E2Eテスト、バグフィックス、パフォーマンス最適化を行います。

## 参照ドキュメント

- `docs/design/integration-design.md`

## 実装対象

### 1. 統合テスト

**テストシナリオ**:
- ゲーム開始から終了までのフロー
- ブロック消去と連鎖の処理
- ゲームオーバー判定
- 一時停止とリスタート

**テストファイル**: `tests/integration/game-flow.test.ts`

### 2. E2Eテスト

**テストシナリオ**:
- ゲームをプレイして2x2の矩形を消す
- ゲームオーバーまでプレイする
- すべてのキー操作が動作する

**ツール**: Playwright（オプション）

### 3. バグフィックス

- 発見されたバグの修正
- エッジケースの対応

### 4. パフォーマンス最適化

**目標**:
- フレームレート: 30fps（安定動作）
- フレーム処理時間: < 16ms
- メモリ使用量: < 50MB

**最適化項目**:
- レンダリング最適化
- ブロック消去アルゴリズムの最適化
- メモリリークの確認

### 5. UI/UX調整

- 操作感の調整
- 視覚効果の追加（オプション）
- レスポンシブデザインの調整

## 完了条件

- [ ] 統合テストが実装され、成功する
- [ ] E2Eテストが実装され、成功する
- [ ] 重大なバグがすべて修正されている
- [ ] パフォーマンス目標を達成している
- [ ] UI/UXが良好である
- [ ] すべてのブラウザで動作する（Chrome, Firefox, Safari）

## 見積もり

**工数**: 3-5日

## 依存関係

**前提**: Issue 4.1

**後続**: Issue 4.3
